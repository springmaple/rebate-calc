<!DOCTYPE html>
<html>

<head>
  <title>Rebate Calculator</title>
  <link rel="stylesheet" href="../css/index.css">
  <script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>
  <script src="../js/jquery-3.1.0.min.js"></script>
  <script>if (window.module) module = window.module;</script>
  <script>
    const {ipcRenderer} = require('electron')
    ipcRenderer.on('ls-mbr', (event, mbrs) => {
      for (let i = 0; i < mbrs.length; i++) {
        mbr = mbrs[i]
        txt = (
          `<td><a href="mbr-info.html?_id=${mbr._id}">${mbr.mbrName}</a></td>` +
          `<td>${mbr.mbrId}</td>` +
          `<td>${mbr.mbrHp}</td>` +
          `<td>${mbr.mbrIc}</td>` +
          `<td>${mbr.mbrEmail}</td>` +
          `<td>${mbr.mbrBankName}</td>` +
          `<td>${mbr.mbrBankAcc}</td>` +
          `<td>${mbr.mbrJoinDate}</td>` +
          `<td>${mbr.mbrPackage}</td>` +
          `<td>${mbr.mbrRemark}</td>` +
          `<td>12</td>`
        )
        $('#mbr-ls-table').append(`<tr id="${mbr._id}">${txt}</tr>`)
      }

      $('tr').dblclick(function () {
        var id = $(this).attr('id');
        console.log(id)
      })
    })

    window.onload = function () {
      ipcRenderer.send('ls-mbr', null)
    }

  </script>

</head>

<body>
  <a href='mbr-new.html'>New Member</a>
  <input id='mbr-profit' placeholder='Profit'>
  <table id='mbr-ls-table'>
    <tr>
      <td>Name</td>
      <td>ID</td>
      <td>HP No</td>
      <td>IC No</td>
      <td>Email</td>
      <td>Bank Name</td>
      <td>Bank Acc</td>
      <td>Join Date</td>
      <td>Package</td>
      <td>Remark</td>
      <td>Profit</td>
    </tr>
  </table>
</body>

</html>